<groot-darwin-page-title title="Groot AG-Grid demo"></groot-darwin-page-title>

<p>This is how a default, simple grid looks.</p>

<groot-ag-grid
  [columnDefs]="columns"
  [searchResultsData]="searchResultsData"
  (search)="search($event)"
></groot-ag-grid>

<ng-template #cellTemplate>
  <groot-button class="btn-sm btn-outline-primary" label="test"></groot-button>
</ng-template>


<p class="mt-4"> This table shows various data types in our grid:</p>

<ul>
  <li>strings</li>
  <li>numbers</li>
  <li>booleans</li>
  <li>dates</li>
  <li>a custom template renderer.</li>
</ul>

<p>
  Please note that the grid pulls data whenever it needs them, by emitting the event <code>search</code>.
  This event is also emitted at the startup, so you should not run your search in <code>ngOnInit</code>.
  After you have the response, update your variable <code>searchResultsData</code> and the grid will refresh.
</p>

<h2>Selection</h2>

<p>Enabling selections of rows is easy. There are two modes: single or multiple. The grid will emit an event
  whenever the selection changes.</p>

<div class="buttons-list-left">
  <div class="btn-group" btnRadioGroup [(ngModel)]="selectionMode">
    <button class="btn btn-outline-primary" btnRadio="single">Single</button>
    <button class="btn btn-outline-primary" btnRadio="multi">Multiple</button>
    <button class="btn btn-outline-primary" btnRadio="multi-click">Multiple with clicks</button>
  </div>
  <groot-button label="Clear selection" (click)="gridSelection.clearSelection()"></groot-button>
</div>

<groot-ag-grid
  #gridSelection
  [hideTitleBar]="true"
  [columnDefs]="columns"
  [searchResultsData]="searchResultsData"
  (search)="search($event)"
  [checkboxSelection]="selectionMode === 'multi'"
  [headerCheckboxSelection]="selectionMode === 'multi'"
  [singleRowSelection]="selectionMode === 'single'"
  [rowMultiSelectWithClick]="selectionMode === 'multi-click'"
  (selectionChanged)="setSelection($event)"
></groot-ag-grid>

<h2>Accordions</h2>

<p>You can use a template to show an accordion with additional details for each row.</p>

<groot-ag-grid
  class="mb-4"
  [hideTitleBar]="true"
  [columnDefs]="columns"
  [searchResultsData]="searchResultsData"
  (search)="search($event)"
  [accordionHeight]="30"
  [accordionTemplate]="accordionTemplate"
>
  <ng-template #accordionTemplate let-row>
    <p>Here you can show more details about the row. For instance, here we show {{row.name}}.</p>
  </ng-template>
</groot-ag-grid>

<h2>Loading failed and more info</h2>

<p>You can show a "loading failed" by passing a <code>LoadingFailed</code> instance to the grid rather than the data:
</p>

<groot-ag-grid
  class="mb-4 mt-4"
  [hideTitleBar]="true"
  [columnDefs]="columns"
  [searchResultsData]="loadingFailedData"
  (search)="searchLoadingFailed()"
></groot-ag-grid>

<p>You can also show a custom message by passing a <code>NoGridDataMessage</code> instance:</p>

<groot-ag-grid
  [hideTitleBar]="true"
  [columnDefs]="columns"
  [searchResultsData]="alertData"
  (search)="searchAlertData()"
></groot-ag-grid>
